<html>
  <head>
    <title>SideScroller</title>
    <script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
    <script type="text/processing" data-processing-target="mycanvas">
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        
       
       // Building testBuilding = new Building(0, random(120, 180)); 
        
        var WINDOW_WIDTH = 1100;
        var WINDOW_HEIGHT = 650; 

        var buildingList = new ArrayList<Skyline>();

        var buildingXPosition;
        var previousBuildingXPosition;
        var buildingWidthh;

        var GREY = 204;

        void createTheList() {
            for(var i = 0; i < buildingList.size(); i++) {
            Building currentBuilding = buildingList.get(i);
            currentBuilding.drawAndUpdate();
          }
        }

        void buildTheBuildings() {
          buildingWidthh = random(120, 180);
          buildingXPosition = previousBuildingXPosition - buildingWidthh;
          buildingList.add(new Building(buildingXPosition, buildingWidthh));
          previousBuildingXPosition = buildingXPosition;
        }


        //runs once at the start of the program 
        void setup() {

        numberOfBuildings = 16;
        previousBuildingXPosition = 1100;
        for(var i = 0; i < numberOfBuildings; i++) {
          buildTheBuildings();
        }

        size(WINDOW_WIDTH, WINDOW_HEIGHT);
        
         // testBuilding.drawAndUpdate();

   
        }
        
        
        //called repeatedly 
        void draw() { 
        
          background(23, 27, 28); 

          createTheList();

          // testBuilding.drawAndUpdate();

        }
        
        class Building 
        {
          //attributes 
          var buildingXPos, buildingWidth, buildingHeight;

          //constructor 
          Building (float buildingX, float buildingW) {

            buildingXPos = buildingX;
            buildingWidth = buildingW;
            buildingHeight = random(-300, -100);

          }
          void drawAndUpdate() {
            drawBuilding();
            update();

          }

          void drawBuilding() { 

            strokeWeight(2);
            fill(255, 255, 255);
            rect(buildingXPos, 650, buildingWidth, buildingHeight);

            }
            
          void update() {

              buildingXPos += 4;

        }

        }
        </script> 
    </head>
    
    <body>
    <canvas id="mycanvas"></canvas>
  </body>
</html>